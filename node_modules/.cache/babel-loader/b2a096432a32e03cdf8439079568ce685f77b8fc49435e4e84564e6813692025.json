{"ast":null,"code":"var _jsxFileName = \"/Users/kalashgajjar/Desktop/Oasis-Final/Frontend/src/Context/noteState.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport noteContext from \"./noteContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NoteState = props => {\n  _s();\n  const host = \"http://localhost:5001\";\n  const notesinitial = [];\n  const [notes, setNotes] = useState(notesinitial);\n  // \n  // get all notes\n\n  const getNotes = async () => {\n    // API Call\n    const response = await fetch(`${host}/api/notes/fetch`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const note = await response.json();\n    setNotes(note);\n    console.log(note);\n  };\n  // Add note\n\n  const addnote = async (checkInDate, checkOutDate, noOfAdults, noOfChildren, noOfRooms, totalPrice, name, bookingReference) => {\n    // API Call\n    const response = await fetch(\"http://localhost:5000/api/notes/add\", {\n      // eslint-disable-next-line\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        checkInDate,\n        checkOutDate,\n        noOfAdults,\n        noOfChildren,\n        noOfRooms,\n        totalPrice,\n        name,\n        bookingReference\n      })\n    });\n    const note = response.json();\n    setNotes(notes.concat(note));\n    console.log(note);\n  };\n\n  // delete note\n  const deleteNote = async id => {\n    // API Call\n    const response = await fetch(`${host}/api/notes/delete/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    });\n    const json = response.json();\n    console.log(json);\n    //\n    console.log(\"deleted id\" + id);\n    const newNote = notes.filter(note => {\n      return note._id !== id;\n    });\n    setNotes(newNote);\n  };\n  // edit note\n  const editnote = async (id, heading, content, author, date) => {\n    // Api call\n    // console.log(title);\n    const response = await fetch(`${host}/api/notes/update/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem(\"token\")\n      },\n      body: JSON.stringify({\n        heading,\n        content,\n        author,\n        date\n      })\n    });\n    const json = response.json();\n    console.log(json);\n    let newNotes = JSON.parse(JSON.stringify(notes));\n    // logic to edit in client\n    for (let index = 0; index < newNotes.length; index++) {\n      const element = newNotes[index];\n      if (element._id === id) {\n        newNotes[index].heading = heading;\n        newNotes[index].content = content;\n        newNotes[index].author = author;\n        break;\n      }\n    }\n    setNotes(newNotes);\n  };\n  return /*#__PURE__*/_jsxDEV(noteContext.Provider, {\n    value: {\n      notes,\n      addnote,\n      editnote,\n      deleteNote,\n      getNotes\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n};\n_s(NoteState, \"lCpSlwx1esUeipe+iG9Pc2Zry6g=\");\n_c = NoteState;\nexport default NoteState;\nvar _c;\n$RefreshReg$(_c, \"NoteState\");","map":{"version":3,"names":["React","useState","noteContext","jsxDEV","_jsxDEV","NoteState","props","_s","host","notesinitial","notes","setNotes","getNotes","response","fetch","method","headers","note","json","console","log","addnote","checkInDate","checkOutDate","noOfAdults","noOfChildren","noOfRooms","totalPrice","name","bookingReference","body","JSON","stringify","concat","deleteNote","id","localStorage","getItem","newNote","filter","_id","editnote","heading","content","author","date","newNotes","parse","index","length","element","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kalashgajjar/Desktop/Oasis-Final/Frontend/src/Context/noteState.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport noteContext from \"./noteContext\";\r\n\r\nconst NoteState = (props) => {\r\n    const host = \"http://localhost:5001\";\r\n    const notesinitial = [];\r\n    const [notes, setNotes] = useState(notesinitial);\r\n    // \r\n    // get all notes\r\n\r\n    const getNotes = async () => {\r\n        // API Call\r\n        const response = await fetch(`${host}/api/notes/fetch`, {\r\n            method: \"GET\",\r\n\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \r\n            }\r\n        });\r\n        const note =  await response.json();\r\n        setNotes(note);\r\n        console.log(note);\r\n    };\r\n    // Add note\r\n    \r\n    const addnote = async (checkInDate, checkOutDate, noOfAdults, noOfChildren, noOfRooms, totalPrice, name, bookingReference) => {\r\n        // API Call\r\n        const response = await fetch(\"http://localhost:5000/api/notes/add\", {\r\n            // eslint-disable-next-line\r\n            method: \"POST\",\r\n\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n               \r\n            },\r\n\r\n            body: JSON.stringify({ checkInDate, checkOutDate, noOfAdults, noOfChildren, noOfRooms, totalPrice, name, bookingReference}),\r\n        });\r\n        const note = response.json();\r\n        setNotes(notes.concat(note));\r\n        console.log(note);\r\n    };\r\n\r\n    // delete note\r\n    const deleteNote = async (id) => {\r\n        // API Call\r\n        const response = await fetch(`${host}/api/notes/delete/${id}`, {\r\n            method: \"DELETE\",\r\n\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"auth-token\":\r\n                    localStorage.getItem(\"token\"),\r\n            },\r\n        });\r\n        const json = response.json();\r\n        console.log(json);\r\n        //\r\n        console.log(\"deleted id\" + id);\r\n        const newNote = notes.filter((note) => {\r\n            return note._id !== id;\r\n        });\r\n        setNotes(newNote);\r\n    };\r\n    // edit note\r\n    const editnote = async (id, heading, content, author, date) => {\r\n        // Api call\r\n        // console.log(title);\r\n        const response = await fetch(`${host}/api/notes/update/${id}`, {\r\n            method: \"PUT\",\r\n\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"auth-token\":\r\n                    localStorage.getItem(\"token\"),\r\n            },\r\n\r\n            body: JSON.stringify({ heading, content, author, date }),\r\n        });\r\n        const json = response.json();\r\n        console.log(json);\r\n\r\n        let newNotes = JSON.parse(JSON.stringify(notes));\r\n        // logic to edit in client\r\n        for (let index = 0; index < newNotes.length; index++) {\r\n            const element = newNotes[index];\r\n            if (element._id === id) {\r\n                newNotes[index].heading = heading;\r\n                newNotes[index].content = content;\r\n                newNotes[index].author = author;\r\n                break;\r\n            }\r\n        }\r\n        setNotes(newNotes);\r\n    };\r\n    return (\r\n        <noteContext.Provider\r\n            value={{ notes, addnote, editnote, deleteNote, getNotes }}\r\n        >\r\n            {props.children}\r\n        </noteContext.Provider>\r\n    );\r\n};\r\n\r\nexport default NoteState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}